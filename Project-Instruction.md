# 面向混凝土性能预期的视频分类系统功能清单

## 一、具体业务流程

### 1. 标准测试流程
```
1. 用户登录系统
2. 上传混凝土流动视频
3. 系统自动预处理视频
4. 调用AI模型进行分类分析
5. 生成分析结果和报告
6. 用户查看结果，导出报告
7. 数据存储到历史记录
```
### 2. 质量追溯流程
```
1. 选择历史测试记录
2. 查看原始视频和分析结果
3. 对比不同批次数据
4. 分析性能变化趋势
5. 生成质量分析报告
6. 制定改进措施
```

## 二、核心视频分类功能

### 1. 混凝土流动视频上传与管理
- **多格式视频支持**：MP4、AVI、MOV等常见格式
- **视频分片上传**：支持大文件分片上传，避免超时
- **视频预览功能**：上传前/后视频预览和截图
- **视频元数据管理**：记录拍摄时间、设备、环境参数等

### 2. 视频预处理与增强
- **视频帧提取**：自动提取关键帧（1-30fps可配置）
- **分辨率标准化**：统一调整为模型输入尺寸（如224×224）
- **光照校正**：自动调整亮度、对比度适应不同拍摄环境
- **ROI区域识别**：自动识别混凝土流动区域，裁剪无关背景
- **数据增强**：实时旋转、翻转、裁剪等增强技术

### 3. 混凝土性能分类
- **流动性等级分类**：预测混凝土坍落度等级（S1-S5或A1-A5）
- **工作性评分**：0-100分的综合工作性评分
- **异常流动检测**：识别离析、泌水等异常流动模式
- **流动速度分析**：计算混凝土流动前沿推进速度
- **稳定性预测**：预测混凝土达到稳定状态的时间

### 4. 结果可视化与分析
- **分类结果展示**：清晰显示预测的性能等级和置信度
- **流动过程可视化**：关键帧序列展示流动过程
- **性能曲线图**：流动直径、高度随时间变化曲线
- **热力图分析**：显示流动速度分布热力图
- **对比分析**：与历史数据或标准值进行对比

## 三、前端VUE功能模块

### 1. 用户认证与权限
- **认证系统**：登录、注册、密码重置
- **权限控制**：管理员、工程师、操作员不同权限
- **操作日志**：记录用户关键操作

### 2. 视频管理界面
- **视频上传组件**：拖拽上传、进度显示、断点续传
- **视频列表展示**：分页、排序、搜索、筛选
- **视频详情页面**：完整视频播放、元数据显示
- **批量操作**：批量上传、批量删除

### 3. 分析结果展示
- **仪表盘**：关键指标概览（测试次数、合格率、平均性能等）


### 4. 系统管理
-**待定**

## 四、后端FastAPI功能模块

### 1. RESTful API服务
- **用户API**：`/api/users` - 用户管理
- **视频API**：`/api/videos` - 视频上传、管理
- **分类API**：`/api/classification` - 视频分类预测
- **结果API**：`/api/results` - 分析结果查询
- **报告API**：`/api/reports` - 报告生成

### 2. 视频处理服务
- **待定**

### 3. 模型集成服务
- **PyTorch模型加载**：动态加载训练好的模型
- **推理API**：提供统一的推理接口
- **模型版本管理**：支持多版本模型切换
- **性能监控**：监控模型推理时间、资源使用

### 4. 数据存储与管理
- **关系型数据库**：PostgreSQL存储用户、视频元数据、结果
- **文件存储**：MinIO/S3存储视频文件
- **缓存服务**：Redis缓存频繁访问的数据
- **数据备份**：定期自动备份策略

## 五、PyTorch AI模型功能

### 1. 视频分类模型
- **SlowFast架构**：双路径网络处理时空特征
- **S3D网络**：Spatiotemporal Separable 3D Convolution
- **TimeSformer**：基于Transformer的视频分类
- **多任务学习**：同时预测流动性等级和工作性评分

### 2. 训练与优化
- **迁移学习**：使用Kinetics预训练模型
- **损失函数设计**：结合交叉熵和回归损失
- **数据增强策略**：视频专用增强（时序裁剪、速度变化等）
- **模型量化**：INT8量化提升推理速度

### 3. 模型部署
- **ONNX转换**：PyTorch → ONNX格式
- **TorchServe部署**：生产环境模型服务
- **GPU加速**：CUDA推理优化
- **模型监控**：性能指标监控和告警

## 六、待定/拓展

## 一、系统集成与扩展功能

### 1. 通知与告警
- **邮件通知**：分析完成、异常结果通知
- **短信告警**：关键指标超阈值告警
- **企业微信通知**：结果推送、告警通知
- **声音告警**：前端关键告警声音提示

### 2. 第三方集成
- **设备集成**：与摄像头、传感器对接
- **ERP系统对接**：质量数据同步到ERP
- **微信小程序**：移动端结果查看
- **API开放平台**：提供标准化API供外部调用

### 3. 高级分析功能
- **趋势预测**：基于历史数据预测性能趋势
- **配比优化建议**：根据性能结果推荐配比优化
- **成本分析**：性能与材料成本关联分析
- **质量追溯**：问题混凝土的全链路追溯

## 二、非功能性需求

### 1. 性能要求
- **响应时间**：视频上传<5秒，分类分析<30秒
- **并发能力**：支持50+用户并发操作
- **吞吐量**：每分钟处理10+个视频文件
- **资源使用**：CPU<70%，内存<80%（峰值）

### 2. 安全要求
- **数据加密**：视频文件、敏感数据加密存储
- **访问控制**：严格的权限验证和数据隔离
- **审计日志**：完整操作日志记录
- **安全扫描**：定期漏洞扫描和修复

### 3. 可用性要求
- **系统可用性**：99.5% uptime
- **故障恢复**：自动故障转移，数据备份恢复
- **维护窗口**：支持不停机更新和维护
- **监控告警**：24/7系统监控和告警
