# 面向混凝土性能预期的视频分类系统功能清单

## 一、具体业务流程

### 1. 标准测试流程
```
1. 用户登录系统
2. 上传混凝土流动视频
3. 系统自动预处理视频
4. 调用AI模型进行分类分析
5. 生成分析结果和报告
6. 用户查看结果，导出报告
7. 数据存储到历史记录
```
### 2. 质量追溯流程
```
1. 选择历史测试记录
2. 查看原始视频和分析结果
3. 对比不同批次数据
4. 分析性能变化趋势
5. 生成质量分析报告
6. 制定改进措施
```

## 二、具体功能实现（拟定）

### 1、前端核心功能（VUE负责）
- 视频上传与预览：支持单文件/批量上传混凝土流动视频，实时预览视频内容，显示上传进度和状态（成功/失败）。
- 分类参数配置：提供预处理参数（如关键帧截取间隔）、模型版本选择、性能指标映射规则配置界面。
- 分类结果与性能展示：可视化展示视频分类结果（类别、置信度）、对应的混凝土性能指标（如流动度、工作性），用图表呈现数据关联。
- 数据查询与管理：支持按视频名称、上传时间、分类结果等条件查询样本，提供视频下载、分类报告导出（PDF/Excel）功能。
- 用户与权限控制：实现登录、注册、角色分配（管理员/普通用户），限制不同角色的操作权限（如管理员可配置模型，普通用户仅能上传查询）。

### 2、后端核心功能（FastAPI负责）
- 接口服务：提供视频上传/下载、模型调用、数据查询、用户认证等RESTful API，对接前端与算法模块。
- 数据存储管理：存储视频文件（本地/云存储）、样本元数据（上传信息、分类结果、性能数据）、用户信息、操作日志。
- 任务调度：处理批量视频分类任务，管理任务队列，返回任务执行状态（排队/处理中/完成）。
- 模型接口封装：将PyTorch训练好的模型封装为调用接口，接收前端传递的视频数据/路径，返回分类结果。

### 3、算法核心功能（PyTorch负责）
- 视频预处理：对上传的视频进行帧提取、去噪、尺寸标准化、数据增强（如翻转、亮度调整），生成模型可输入的张量数据。
- 模型训练与加载：支持基于预训练模型（如ResNet3D、I3D）的微调，训练完成后保存模型权重；支持加载不同版本模型进行推理。
- 视频分类推理：输入预处理后的视频数据，通过模型输出分类结果（如混凝土流动等级A/B/C），计算分类置信度。
- 性能映射与预测：将分类结果与混凝土性能指标（抗压强度、凝结时间、工作性）建立映射关系，输出性能预期值。
- 模型评估与优化：提供模型准确率、召回率等评估指标计算，支持日志记录训练过程，便于模型迭代优化。

### 4、系统辅助功能
- 日志记录：记录用户操作日志（上传、查询、导出）、模型推理日志（输入输出、耗时）、系统错误日志，便于问题排查。
- 异常处理：处理视频格式不支持、上传失败、模型推理出错等异常情况，返回友好提示。
- 数据可视化分析：统计不同分类结果的样本分布、性能指标分布，生成柱状图/折线图，支持管理员查看数据趋势。

